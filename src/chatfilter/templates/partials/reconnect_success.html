{# Reconnect Success - Toast Notification #}
<div class="auth-result auth-result-success" id="reconnect-success-notification">
    <div class="alert alert-success" role="alert" aria-live="polite">
        <strong>{{ message }}</strong>
    </div>
</div>

<script>
    // Trigger sessions list refresh to show updated status
    if (typeof htmx !== 'undefined') {
        htmx.trigger(document.body, 'refreshSessions');
    }

    // Auto-dismiss notification after 4 seconds
    setTimeout(function() {
        var notification = document.getElementById('reconnect-success-notification');
        if (notification) {
            // Fade out animation
            notification.style.transition = 'opacity 0.3s ease-out';
            notification.style.opacity = '0';

            // Remove from DOM after fade completes
            setTimeout(function() {
                notification.remove();

                // Close modal if it exists
                var modal = document.getElementById('reconnect-modal');
                if (modal) {
                    modal.remove();
                }
            }, 300);
        }
    }, 4000);
</script>
