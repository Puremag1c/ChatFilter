============================= test session starts ==============================
platform darwin -- Python 3.12.11, pytest-9.0.2, pluggy-1.6.0 -- /Users/m/Zen/Code/ChatFilter/.venv/bin/python
cachedir: .pytest_cache
hypothesis profile 'default'
rootdir: /Users/m/Zen/Code/ChatFilter
configfile: pyproject.toml
plugins: anyio-4.12.1, timeout-2.4.0, asyncio-1.3.0, hypothesis-6.151.5
timeout: 30.0s
timeout method: signal
timeout func_only: False
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1954 items / 1940 deselected / 14 selected

tests/integration/test_auth_flow_fixes.py::TestVerifyCodeNeeds2FA::test_verify_code_returns_session_row_on_needs_2fa PASSED [  7%]
tests/integration/test_auth_flow_fixes.py::TestVerify2FASuccess::test_verify_2fa_returns_session_row_on_success PASSED [ 14%]
tests/test_device_confirmation.py::TestDeviceConfirmation::test_verify_code_needs_confirmation PASSED [ 21%]
tests/test_device_confirmation.py::TestDeviceConfirmation::test_verify_2fa_needs_confirmation PASSED [ 28%]
tests/test_loading_states.py::TestLoadingStateVerifyCode::test_code_form_has_loading_attributes PASSED [ 35%]
tests/test_loading_states.py::TestLoadingStateVerifyCode::test_code_modal_button_accessible PASSED [ 42%]
tests/test_loading_states.py::TestLoadingStateVerify2FA::test_2fa_modal_button_appears_for_needs_2fa PASSED [ 50%]
tests/test_loading_states.py::TestLoadingStateVerify2FA::test_2fa_modal_button_has_session_data PASSED [ 57%]
tests/test_loading_states.py::TestLoadingStateVerify2FA::test_2fa_modal_button_accessible PASSED [ 64%]
tests/test_sessions_router.py::TestVerify2FA::test_password_validation_logic PASSED [ 71%]
tests/test_sessions_router.py::TestVerify2FA::test_verify_code_2fa_auto_fails_shows_manual_modal PASSED [ 78%]
tests/test_sessions_router.py::TestVerifyCode2FAAutoEntry::test_verify_code_auto_2fa_success PASSED [ 85%]
tests/test_sessions_router.py::TestVerifyCode2FAAutoEntry::test_verify_code_auto_2fa_missing PASSED [ 92%]
tests/test_sessions_router.py::TestVerifyCode2FAAutoEntry::test_verify_code_auto_2fa_wrong PASSED [100%]

=============================== warnings summary ===============================
src/chatfilter/self_test.py:31
  /Users/m/Zen/Code/ChatFilter/src/chatfilter/self_test.py:31: PytestCollectionWarning: cannot collect test class 'TestResult' because it has a __init__ constructor (from: tests/test_self_test.py)
    @dataclass

src/chatfilter/self_test.py:22
  /Users/m/Zen/Code/ChatFilter/src/chatfilter/self_test.py:22: PytestCollectionWarning: cannot collect test class 'TestStatus' because it has a __init__ constructor (from: tests/test_self_test.py)
    class TestStatus(str, Enum):

tests/test_device_confirmation.py::TestDeviceConfirmation::test_verify_code_needs_confirmation
  /Users/m/Zen/Code/ChatFilter/src/chatfilter/web/routers/sessions.py:3877: RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
    if not client or not client.is_connected():
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/test_device_confirmation.py::TestDeviceConfirmation::test_verify_2fa_needs_confirmation
  /Users/m/Zen/Code/ChatFilter/src/chatfilter/web/routers/sessions.py:4302: RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
    if not client or not client.is_connected():
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=============== 14 passed, 1940 deselected, 4 warnings in 6.55s ================
