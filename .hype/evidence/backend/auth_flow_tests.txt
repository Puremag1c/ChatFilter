============================= test session starts ==============================
platform darwin -- Python 3.12.11, pytest-9.0.2, pluggy-1.6.0 -- /Users/m/Zen/Code/ChatFilter/.venv/bin/python
cachedir: .pytest_cache
hypothesis profile 'default'
rootdir: /Users/m/Zen/Code/ChatFilter
configfile: pyproject.toml
plugins: anyio-4.12.1, timeout-2.4.0, asyncio-1.3.0, hypothesis-6.151.5
timeout: 30.0s
timeout method: signal
timeout func_only: False
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 18 items

tests/integration/test_auth_flow_fixes.py::TestVerifyCodeNeeds2FA::test_verify_code_returns_session_row_on_needs_2fa PASSED [  5%]
tests/integration/test_auth_flow_fixes.py::TestVerify2FASuccess::test_verify_2fa_returns_session_row_on_success PASSED [ 11%]
tests/integration/test_auth_flow_fixes.py::TestLanguageSwitchTranslation::test_nav_menu_en_default PASSED [ 16%]
tests/integration/test_auth_flow_fixes.py::TestLanguageSwitchTranslation::test_nav_menu_ru_via_cookie PASSED [ 22%]
tests/integration/test_auth_flow_fixes.py::TestFullAuthFlowNoRefresh::test_code_to_2fa_to_connected_flow PASSED [ 27%]
tests/integration/test_auth_flow_fixes.py::TestAdoptClientFailureHandling::test_adopt_client_failure_cleanup PASSED [ 33%]
tests/integration/test_auth_flow_fixes.py::TestVerifyCodeHTTPStatusCodes::test_verify_code_invalid_code_returns_422 PASSED [ 38%]
tests/integration/test_auth_flow_fixes.py::TestVerifyCodeHTTPStatusCodes::test_verify_code_expired_code_returns_422 PASSED [ 44%]
tests/integration/test_auth_flow_fixes.py::TestVerifyCodeHTTPStatusCodes::test_verify_code_flood_wait_returns_429 PASSED [ 50%]
tests/integration/test_auth_flow_fixes.py::TestVerifyCodeHTTPStatusCodes::test_verify_code_connection_error_returns_502 PASSED [ 55%]
tests/integration/test_auth_flow_fixes.py::TestVerifyCodeHTTPStatusCodes::test_verify_code_timeout_returns_502 PASSED [ 61%]
tests/integration/test_auth_flow_fixes.py::TestVerifyCodeHTTPStatusCodes::test_verify_code_generic_exception_returns_500_and_cleans_auth_state PASSED [ 66%]
tests/integration/test_auth_flow_fixes.py::TestVerify2FAHTTPStatusCodes::test_verify_2fa_invalid_password_returns_422 PASSED [ 72%]
tests/integration/test_auth_flow_fixes.py::TestVerify2FAHTTPStatusCodes::test_verify_2fa_flood_wait_returns_429 PASSED [ 77%]
tests/integration/test_auth_flow_fixes.py::TestVerify2FAHTTPStatusCodes::test_verify_2fa_session_revoked_returns_401 PASSED [ 83%]
tests/integration/test_auth_flow_fixes.py::TestVerify2FAHTTPStatusCodes::test_verify_2fa_connection_error_returns_502 PASSED [ 88%]
tests/integration/test_auth_flow_fixes.py::TestVerify2FAHTTPStatusCodes::test_verify_2fa_timeout_returns_502 PASSED [ 94%]
tests/integration/test_auth_flow_fixes.py::TestVerify2FAHTTPStatusCodes::test_verify_2fa_generic_exception_returns_500_and_cleans_auth_state PASSED [100%]

============================== 18 passed in 1.35s ==============================
