============================= test session starts ==============================
platform darwin -- Python 3.12.11, pytest-9.0.2, pluggy-1.6.0 -- /Users/m/Zen/Code/ChatFilter/.venv/bin/python
cachedir: .pytest_cache
hypothesis profile 'default'
rootdir: /Users/m/Zen/Code/ChatFilter
configfile: pyproject.toml
plugins: anyio-4.12.1, timeout-2.4.0, asyncio-1.3.0, hypothesis-6.151.5
timeout: 30.0s
timeout method: signal
timeout func_only: False
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 25 items

.hype/evidence/backend/test_group_engine.py::TestGroupEngineInitialization::test_engine_creation FAILED [  4%]
.hype/evidence/backend/test_group_engine.py::TestGroupEngineInitialization::test_nonexistent_group_raises_error PASSED [  8%]
.hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_no_connected_accounts_raises_error FAILED [ 12%]
.hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_round_robin_distribution FAILED [ 16%]
.hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_resolve_channel_no_comments FAILED [ 20%]
.hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_resolve_channel_with_comments FAILED [ 24%]
.hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_resolve_forum FAILED [ 28%]
.hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_resolve_group FAILED [ 32%]
.hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_dead_chat_link FAILED [ 36%]
.hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_flood_wait_error_handling FAILED [ 40%]
.hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_chat_forbidden_error FAILED [ 44%]
.hype/evidence/backend/test_group_engine.py::TestPhase2Analysis::test_analysis_phase_creates_tasks FAILED [ 48%]
.hype/evidence/backend/test_group_engine.py::TestPhase3Leave::test_leave_chats_when_enabled FAILED [ 52%]
.hype/evidence/backend/test_group_engine.py::TestPhase3Leave::test_skip_leave_when_disabled FAILED [ 56%]
.hype/evidence/backend/test_group_engine.py::TestStopAndResume::test_stop_analysis_cancels_tasks PASSED [ 60%]
.hype/evidence/backend/test_group_engine.py::TestStopAndResume::test_resume_skips_done_chats FAILED [ 64%]
.hype/evidence/backend/test_group_engine.py::TestProgressTracking::test_progress_events_emitted FAILED [ 68%]
.hype/evidence/backend/test_group_engine.py::TestProgressTracking::test_progress_current_and_total PASSED [ 72%]
.hype/evidence/backend/test_group_engine.py::TestEdgeCases::test_empty_group FAILED [ 76%]
.hype/evidence/backend/test_group_engine.py::TestEdgeCases::test_all_chats_dead PASSED [ 80%]
.hype/evidence/backend/test_group_engine.py::TestEdgeCases::test_account_becomes_disconnected_during_analysis PASSED [ 84%]
.hype/evidence/backend/test_group_engine.py::TestEdgeCases::test_database_error_during_save PASSED [ 88%]
.hype/evidence/backend/test_group_engine.py::TestServerRestart::test_incomplete_analysis_persisted FAILED [ 92%]
.hype/evidence/backend/test_group_engine.py::TestServerRestart::test_resume_after_restart PASSED [ 96%]
.hype/evidence/backend/test_group_engine.py::TestMessageLimitSettings::test_message_limit_passed_to_analysis FAILED [100%]

=================================== FAILURES ===================================
______________ TestGroupEngineInitialization.test_engine_creation ______________
.hype/evidence/backend/test_group_engine.py:98: in test_engine_creation
    assert isinstance(engine.db, GroupDatabase)
                      ^^^^^^^^^
E   AttributeError: 'GroupAnalysisEngine' object has no attribute 'db'
_______ TestPhase1JoinAndResolve.test_no_connected_accounts_raises_error _______
.hype/evidence/backend/test_group_engine.py:123: in test_no_connected_accounts_raises_error
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
____________ TestPhase1JoinAndResolve.test_round_robin_distribution ____________
.hype/evidence/backend/test_group_engine.py:139: in test_round_robin_distribution
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
__________ TestPhase1JoinAndResolve.test_resolve_channel_no_comments ___________
.hype/evidence/backend/test_group_engine.py:172: in test_resolve_channel_no_comments
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
_________ TestPhase1JoinAndResolve.test_resolve_channel_with_comments __________
.hype/evidence/backend/test_group_engine.py:196: in test_resolve_channel_with_comments
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
_________________ TestPhase1JoinAndResolve.test_resolve_forum __________________
.hype/evidence/backend/test_group_engine.py:218: in test_resolve_forum
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
_________________ TestPhase1JoinAndResolve.test_resolve_group __________________
.hype/evidence/backend/test_group_engine.py:240: in test_resolve_group
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
_________________ TestPhase1JoinAndResolve.test_dead_chat_link _________________
.hype/evidence/backend/test_group_engine.py:264: in test_dead_chat_link
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
___________ TestPhase1JoinAndResolve.test_flood_wait_error_handling ____________
.hype/evidence/backend/test_group_engine.py:285: in test_flood_wait_error_handling
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
______________ TestPhase1JoinAndResolve.test_chat_forbidden_error ______________
.hype/evidence/backend/test_group_engine.py:306: in test_chat_forbidden_error
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
_____________ TestPhase2Analysis.test_analysis_phase_creates_tasks _____________
.hype/evidence/backend/test_group_engine.py:330: in test_analysis_phase_creates_tasks
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
________________ TestPhase3Leave.test_leave_chats_when_enabled _________________
.hype/evidence/backend/test_group_engine.py:357: in test_leave_chats_when_enabled
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
________________ TestPhase3Leave.test_skip_leave_when_disabled _________________
.hype/evidence/backend/test_group_engine.py:374: in test_skip_leave_when_disabled
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
________________ TestStopAndResume.test_resume_skips_done_chats ________________
.hype/evidence/backend/test_group_engine.py:397: in test_resume_skips_done_chats
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
______________ TestProgressTracking.test_progress_events_emitted _______________
.hype/evidence/backend/test_group_engine.py:415: in test_progress_events_emitted
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
________________________ TestEdgeCases.test_empty_group ________________________
.hype/evidence/backend/test_group_engine.py:436: in test_empty_group
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
_____________ TestServerRestart.test_incomplete_analysis_persisted _____________
.hype/evidence/backend/test_group_engine.py:466: in test_incomplete_analysis_persisted
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
________ TestMessageLimitSettings.test_message_limit_passed_to_analysis ________
.hype/evidence/backend/test_group_engine.py:506: in test_message_limit_passed_to_analysis
    temp_db.save_group(group)
E   TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
=========================== short test summary info ============================
FAILED .hype/evidence/backend/test_group_engine.py::TestGroupEngineInitialization::test_engine_creation - AttributeError: 'GroupAnalysisEngine' object has no attribute 'db'
FAILED .hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_no_connected_accounts_raises_error - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_round_robin_distribution - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_resolve_channel_no_comments - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_resolve_channel_with_comments - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_resolve_forum - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_resolve_group - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_dead_chat_link - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_flood_wait_error_handling - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestPhase1JoinAndResolve::test_chat_forbidden_error - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestPhase2Analysis::test_analysis_phase_creates_tasks - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestPhase3Leave::test_leave_chats_when_enabled - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestPhase3Leave::test_skip_leave_when_disabled - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestStopAndResume::test_resume_skips_done_chats - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestProgressTracking::test_progress_events_emitted - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestEdgeCases::test_empty_group - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestServerRestart::test_incomplete_analysis_persisted - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
FAILED .hype/evidence/backend/test_group_engine.py::TestMessageLimitSettings::test_message_limit_passed_to_analysis - TypeError: GroupDatabase.save_group() missing 3 required positional arguments: 'name', 'settings', and 'status'
========================= 18 failed, 7 passed in 0.64s =========================
