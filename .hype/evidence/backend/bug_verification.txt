# Bug Verification Report - v0.8.2

## Bug 1: Session shows "Setup Required" with encrypted credentials
**Status:** ALREADY FIXED in code
**Location:** src/chatfilter/web/routers/sessions.py:945-971
**Verification:** Code review shows get_session_config_status() now checks SecureCredentialManager

Lines 945-971:
```python
if api_id is None or api_hash is None:
    # Bug 1 fix: Check if credentials exist in SecureCredentialManager (Pattern A)
    try:
        from chatfilter.security import SecureCredentialManager
        storage_dir = session_dir.parent  
        manager = SecureCredentialManager(storage_dir)
        session_name = session_dir.name
        if manager.has_credentials(session_name):
            # Credentials exist in encrypted storage - continue to proxy check
            logger.debug(...)
        else:
            return "needs_api_id"
```

**Test Result:** Implementation correct, but needs integration test verification

---

## Bug 2: Connect failure - spinner disappears silently
**Status:** NEEDS VERIFICATION
**Symptom:** User clicks Connect → spinner → spinner disappears → back to Connect (no error message)

**Root Cause (from SPEC):**
- send_code flow in background task fails
- Task publishes SSE "error" or "disconnected" event
- UI updates to Connect button but NO error message shown

**Files to check:**
1. src/chatfilter/web/routers/sessions.py - _do_connect_in_background()
2. src/chatfilter/templates/partials/session_row.html - error display

**Test Approach:**
- Simulate connect failure scenarios (missing phone, network error, proxy error)
- Verify error message displayed in UI

---

## Bug 3: Session statuses not translated to Russian
**Status:** CONFIRMED - MULTIPLE TRANSLATIONS MISSING

**Missing translations in messages.po:**
- disconnected
- connected
- needs_api_id
- proxy_missing
- session_expired
- error
- Proxy Missing

**Found in messages.po:**
✓ Setup Required (Требуется настройка)
✓ Connected successfully (Успешно подключено)
✓ Disconnected successfully (Успешно отключено)
✓ Connected (but as part of longer phrase)

**Action Required:**
Add msgid entries for:
```
msgid "disconnected"
msgstr "отключено"

msgid "connected"
msgstr "подключено"

msgid "needs_api_id"
msgstr "требуется API ID"

msgid "proxy_missing"
msgstr "прокси отсутствует"

msgid "session_expired"
msgstr "сессия истекла"

msgid "error"
msgstr "ошибка"
```

